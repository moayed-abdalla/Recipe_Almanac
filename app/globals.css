@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Special+Elite&display=swap');

/* Theme color variables for image colorization */
:root {
  --theme-image-color: #CC5500; /* Default orange for light-orange */
  --theme-bg-opacity: 0.15;
}

/* Light themes */
[data-theme="light-orange"] {
  --theme-image-color: #CC5500;
  --theme-bg-opacity: 0.15;
}

[data-theme="light-grey"] {
  --theme-image-color: #616161;
  --theme-bg-opacity: 0.12;
}

[data-theme="light-beige"] {
  --theme-image-color: #4A5568;
  --theme-bg-opacity: 0.15;
}

/* Dark themes */
[data-theme="dark-orange"] {
  --theme-image-color: #FFA500;
  --theme-bg-opacity: 0.2;
}

[data-theme="dark-blue"] {
  --theme-image-color: #63B3ED;
  --theme-bg-opacity: 0.18;
}

[data-theme="dark-red"] {
  --theme-image-color: #FC8181;
  --theme-bg-opacity: 0.2;
}

body {
  min-height: 100vh;
  font-family: "Special Elite", system-ui, monospace;
  font-weight: 400;
  font-style: normal;
  background-color: #F7F7F7;
  position: relative;
  /* Color is handled by text-base-content class in layout.tsx */
}

html[data-theme-mode="dark"] body {
  background-color: #1A1A1A;
}

/* Background pattern container - holds both the mask and color layer */
body::before,
body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
}

/* Color layer - provides the theme color */
body::before {
  background-color: var(--theme-image-color);
  opacity: var(--theme-bg-opacity);
  /* Use light images as mask - the images act as cutouts showing the color */
  -webkit-mask-image: 
    url('/bg_pic_light_1.png'),
    url('/bg_pic_light_1.png'),
    url('/bg_pic_light_1.png'),
    url('/bg_pic_light_1.png'),
    url('/bg_pic_light_2.png'),
    url('/bg_pic_light_2.png'),
    url('/bg_pic_light_2.png'),
    url('/bg_pic_light_2.png'),
    url('/bg_pic_light_3.png'),
    url('/bg_pic_light_3.png'),
    url('/bg_pic_light_3.png'),
    url('/bg_pic_light_3.png'),
    url('/bg_pic_light_4.png'),
    url('/bg_pic_light_4.png'),
    url('/bg_pic_light_4.png'),
    url('/bg_pic_light_4.png'),
    url('/bg_pic_light_5.png'),
    url('/bg_pic_light_5.png'),
    url('/bg_pic_light_5.png'),
    url('/bg_pic_light_5.png');
  mask-image: 
    url('/bg_pic_light_1.png'),
    url('/bg_pic_light_1.png'),
    url('/bg_pic_light_1.png'),
    url('/bg_pic_light_1.png'),
    url('/bg_pic_light_2.png'),
    url('/bg_pic_light_2.png'),
    url('/bg_pic_light_2.png'),
    url('/bg_pic_light_2.png'),
    url('/bg_pic_light_3.png'),
    url('/bg_pic_light_3.png'),
    url('/bg_pic_light_3.png'),
    url('/bg_pic_light_3.png'),
    url('/bg_pic_light_4.png'),
    url('/bg_pic_light_4.png'),
    url('/bg_pic_light_4.png'),
    url('/bg_pic_light_4.png'),
    url('/bg_pic_light_5.png'),
    url('/bg_pic_light_5.png'),
    url('/bg_pic_light_5.png'),
    url('/bg_pic_light_5.png');
  /* Positions map 1-20 to the image list (x% y%). Y <= 80% keeps clear of footer. */
  -webkit-mask-position: 
    10% 15%,   /* 1: bg_pic_light_1 */
    20% 60%,   /* 2: bg_pic_light_1 */
    25% 45%,   /* 3: bg_pic_light_1 */
    45% 25%,   /* 4: bg_pic_light_1 */
    35% 25%,   /* 5: bg_pic_light_2 */
    50% 65%,   /* 6: bg_pic_light_2 */
    60% 50%,   /* 7: bg_pic_light_2 */
    75% 15%,   /* 8: bg_pic_light_2 */
    65% 40%,   /* 9: bg_pic_light_3 */
    80% 10%,   /* 10: bg_pic_light_3 */
    75% 65%,   /* 11: bg_pic_light_3 */
    30% 70%,   /* 12: bg_pic_light_3 */
    80% 55%,   /* 13: bg_pic_light_4 */
    15% 70%,   /* 14: bg_pic_light_4 */
    40% 10%,   /* 15: bg_pic_light_4 */
    55% 75%,   /* 16: bg_pic_light_4 */
    75% 30%,   /* 17: bg_pic_light_5 */
    40% 78%,   /* 18: bg_pic_light_5 */
    10% 50%,   /* 19: bg_pic_light_5 */
    95% 70%;   /* 20: bg_pic_light_5 */
  mask-position: 
    10% 15%,
    20% 60%,
    25% 45%,
    45% 25%,
    35% 25%,
    50% 65%,
    60% 50%,
    75% 15%,
    65% 40%,
    80% 10%,
    75% 65%,
    30% 70%,
    80% 55%,
    15% 70%,
    40% 10%,
    55% 75%,
    75% 30%,
    40% 78%,
    10% 50%,
    95% 70%;
  /* Sizes map to the images above (width px, height auto). Range 100-130px; max delta 30px. */
  -webkit-mask-size: 
    120px auto, /* 1 */
    110px auto, /* 2 */
    120px auto, /* 3 */
    110px auto, /* 4 */
    125px auto, /* 5 */
    115px auto, /* 6 */
    125px auto, /* 7 */
    115px auto, /* 8 */
    120px auto, /* 9 */
    100px auto, /* 10 */
    120px auto, /* 11 */
    100px auto, /* 12 */
    130px auto, /* 13 */
    110px auto, /* 14 */
    130px auto, /* 15 */
    110px auto, /* 16 */
    120px auto, /* 17 */
    115px auto, /* 18 */
    120px auto, /* 19 */
    115px auto; /* 20 */
  mask-size: 
    120px auto,
    110px auto,
    120px auto,
    110px auto,
    125px auto,
    115px auto,
    125px auto,
    115px auto,
    120px auto,
    100px auto,
    120px auto,
    100px auto,
    130px auto,
    110px auto,
    130px auto,
    110px auto,
    120px auto,
    115px auto,
    120px auto,
    115px auto;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
}

/* Hide the ::after pseudo-element - not needed with mask approach */
body::after {
  display: none;
}

/* Medium screens: 2 of each image (10 total), smaller size */
@media (max-width: 1024px) {
  body::before {
    -webkit-mask-image: 
      url('/bg_pic_light_1.png'),
      url('/bg_pic_light_1.png'),
      url('/bg_pic_light_2.png'),
      url('/bg_pic_light_2.png'),
      url('/bg_pic_light_3.png'),
      url('/bg_pic_light_3.png'),
      url('/bg_pic_light_4.png'),
      url('/bg_pic_light_4.png'),
      url('/bg_pic_light_5.png'),
      url('/bg_pic_light_5.png');
    mask-image: 
      url('/bg_pic_light_1.png'),
      url('/bg_pic_light_1.png'),
      url('/bg_pic_light_2.png'),
      url('/bg_pic_light_2.png'),
      url('/bg_pic_light_3.png'),
      url('/bg_pic_light_3.png'),
      url('/bg_pic_light_4.png'),
      url('/bg_pic_light_4.png'),
      url('/bg_pic_light_5.png'),
      url('/bg_pic_light_5.png');
    /* Positions map 1-10; keep y <= 80% to avoid footer */
    -webkit-mask-position: 
      15% 20%,  /* 1 */
      50% 60%,  /* 2 */
      80% 30%,  /* 3 */
      30% 78%,  /* 4 */
      70% 15%,  /* 5 */
      20% 70%,  /* 6 */
      60% 50%,  /* 7 */
      40% 78%,  /* 8 */
      90% 40%,  /* 9 */
      15% 30%;  /* 10 */
    mask-position: 
      15% 20%,
      50% 60%,
      80% 30%,
      30% 78%,
      70% 15%,
      20% 70%,
      60% 50%,
      40% 78%,
      90% 40%,
      15% 30%;
    -webkit-mask-size: 
      60px auto, 
      50px auto, 
      65px auto, 
      55px auto, 
      65px auto, 
      50px auto, 
      70px auto, 
      55px auto, 
      65px auto, 
      50px auto;
    mask-size: 
      60px auto, 
      50px auto, 
      65px auto, 
      55px auto, 
      65px auto, 
      50px auto, 
      70px auto, 
      55px auto, 
      65px auto, 
      50px auto;
  }
}

/* Small screens: 2 of each image (10 total), even smaller */
@media (max-width: 768px) {
  body::before {
    -webkit-mask-image: 
      url('/bg_pic_light_1.png'),
      url('/bg_pic_light_1.png'),
      url('/bg_pic_light_2.png'),
      url('/bg_pic_light_2.png'),
      url('/bg_pic_light_3.png'),
      url('/bg_pic_light_3.png'),
      url('/bg_pic_light_4.png'),
      url('/bg_pic_light_4.png'),
      url('/bg_pic_light_5.png'),
      url('/bg_pic_light_5.png');
    mask-image: 
      url('/bg_pic_light_1.png'),
      url('/bg_pic_light_1.png'),
      url('/bg_pic_light_2.png'),
      url('/bg_pic_light_2.png'),
      url('/bg_pic_light_3.png'),
      url('/bg_pic_light_3.png'),
      url('/bg_pic_light_4.png'),
      url('/bg_pic_light_4.png'),
      url('/bg_pic_light_5.png'),
      url('/bg_pic_light_5.png');
    /* Positions map 1-10; y capped at 80% */
    -webkit-mask-position: 
      15% 25%, /* 1 */
      25% 70%, /* 2 */
      50% 60%, /* 3 */
      60% 20%, /* 4 */
      85% 35%, /* 5 */
      90% 75%, /* 6 */
      30% 75%, /* 7 */
      40% 15%, /* 8 */
      70% 15%, /* 9 */
      75% 65%; /* 10 */
    mask-position: 
      15% 25%,
      25% 70%,
      50% 60%,
      60% 20%,
      85% 35%,
      90% 75%,
      30% 75%,
      40% 15%,
      70% 15%,
      75% 65%;
    -webkit-mask-size: 
      45px auto, 
      45px auto, 
      40px auto, 
      40px auto, 
      50px auto, 
      50px auto, 
      45px auto, 
      45px auto, 
      45px auto, 
      45px auto;
    mask-size: 
      45px auto, 
      45px auto, 
      40px auto, 
      40px auto, 
      50px auto, 
      50px auto, 
      45px auto, 
      45px auto, 
      45px auto, 
      45px auto;
  }
}

[data-theme-mode="dark"] {
  background-color: #1A1A1A;
}

/* Dark mode uses the same light images with different theme colors (set via CSS vars above) */

* {
  font-family: "Special Elite", system-ui, monospace;
}

/* Italic text uses default system font */
i, em, .italic {
  font-family: system-ui, -apple-system, sans-serif;
  font-style: italic;
}

/* Typewriter font for specific elements */
.typewriter {
  font-family: "Special Elite", system-ui, monospace;
  font-weight: 400;
}

.special-elite-regular {
  font-family: "Special Elite", system-ui;
  font-weight: 400;
  font-style: normal;
}

/* Arial font for recipe content */
.arial-font {
  font-family: Arial, Helvetica, sans-serif;
}

/* Logo colorization - uses the light logo as base and applies theme color */
.logo-colorized {
  /* Use the image as a mask to show the background color through */
  background-color: var(--theme-image-color);
  -webkit-mask-image: url('/logo_light.png');
  mask-image: url('/logo_light.png');
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;
}

/* Hide the actual image in the logo container when using colorization */
.logo-colorized img {
  opacity: 0;
}

